import{_ as s,c as n,o as a,a as l}from"./app.ff7114bc.js";const i=JSON.parse('{"title":"é©¬ä¸Šä¸­ç§‹äº†ï¼ŒæŠŠé¼ æ ‡æŒ‡é’ˆå˜ä¸ºå°ç‰å…”","description":"","frontmatter":{"title":"é©¬ä¸Šä¸­ç§‹äº†ï¼ŒæŠŠé¼ æ ‡æŒ‡é’ˆå˜ä¸ºå°ç‰å…”","date":"2021-09-11T00:00:00.000Z","tags":["æŠ€æœ¯ç¬”è®°","æŠ€æœ¯æ•™ç¨‹"],"categories":["æŠ€æœ¯ç¬”è®°"]},"headers":[{"level":2,"title":"å‰è¨€","slug":"å‰è¨€","link":"#å‰è¨€","children":[]},{"level":2,"title":"æ•ˆæœå¦‚ä¸‹","slug":"æ•ˆæœå¦‚ä¸‹","link":"#æ•ˆæœå¦‚ä¸‹","children":[]},{"level":2,"title":"ç ä¸Šä½“éªŒ","slug":"ç ä¸Šä½“éªŒ","link":"#ç ä¸Šä½“éªŒ","children":[]},{"level":2,"title":"å®ç°æ€è·¯","slug":"å®ç°æ€è·¯","link":"#å®ç°æ€è·¯","children":[{"level":3,"title":"è·å¾—é¼ æ ‡æŒ‡é’ˆçš„ä½ç½®","slug":"è·å¾—é¼ æ ‡æŒ‡é’ˆçš„ä½ç½®","link":"#è·å¾—é¼ æ ‡æŒ‡é’ˆçš„ä½ç½®","children":[]},{"level":3,"title":"éšè—åŸæ¥çš„æŒ‡é’ˆ","slug":"éšè—åŸæ¥çš„æŒ‡é’ˆ","link":"#éšè—åŸæ¥çš„æŒ‡é’ˆ","children":[]},{"level":3,"title":"å®ç°æŒ‡é’ˆçš„å˜æ›´","slug":"å®ç°æŒ‡é’ˆçš„å˜æ›´","link":"#å®ç°æŒ‡é’ˆçš„å˜æ›´","children":[]},{"level":3,"title":"å®ç°é¼ æ ‡è½¨è¿¹","slug":"å®ç°é¼ æ ‡è½¨è¿¹","link":"#å®ç°é¼ æ ‡è½¨è¿¹","children":[]}]},{"level":2,"title":"ç‰å…”æŒ‡é’ˆå®ç°","slug":"ç‰å…”æŒ‡é’ˆå®ç°","link":"#ç‰å…”æŒ‡é’ˆå®ç°","children":[]},{"level":2,"title":"æœˆé¥¼è½¨è¿¹å®ç°","slug":"æœˆé¥¼è½¨è¿¹å®ç°","link":"#æœˆé¥¼è½¨è¿¹å®ç°","children":[]},{"level":2,"title":"æ”¯æŒç§»åŠ¨ç«¯","slug":"æ”¯æŒç§»åŠ¨ç«¯","link":"#æ”¯æŒç§»åŠ¨ç«¯","children":[]},{"level":2,"title":"æœ€å","slug":"æœ€å","link":"#æœ€å","children":[]}],"relativePath":"pages/technology/learn/mid-autumn-festival.md","lastUpdated":1678347021000}'),p={name:"pages/technology/learn/mid-autumn-festival.md"},o=l(`<h1 id="é©¬ä¸Šä¸­ç§‹äº†-æŠŠé¼ æ ‡æŒ‡é’ˆå˜ä¸ºå°ç‰å…”" tabindex="-1">é©¬ä¸Šä¸­ç§‹äº†ï¼ŒæŠŠé¼ æ ‡æŒ‡é’ˆå˜ä¸ºå°ç‰å…” <a class="header-anchor" href="#é©¬ä¸Šä¸­ç§‹äº†-æŠŠé¼ æ ‡æŒ‡é’ˆå˜ä¸ºå°ç‰å…”" aria-hidden="true">#</a></h1><blockquote><p>æˆ‘æ­£åœ¨å‚åŠ ä¸­ç§‹åˆ›æ„æŠ•ç¨¿å¤§èµ›ï¼Œè¯¦æƒ…è¯·çœ‹ï¼š<a href="https://juejin.cn/post/7003154195826081800" target="_blank" rel="noreferrer">ä¸­ç§‹åˆ›æ„æŠ•ç¨¿å¤§èµ›</a>â€</p></blockquote><h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-hidden="true">#</a></h2><p>é©¬ä¸Šä¸­ç§‹èŠ‚å•¦ï¼Œæ˜é‡‘åˆå¼€å§‹<a href="https://juejin.cn/post/7003154195826081800" target="_blank" rel="noreferrer">æ•´æ´»</a>äº†ï¼Œæ°å·§æœ€è¿‘å‡†å¤‡åšçš„å·¥å…·ä¼šæ¶‰åŠåˆ°é¼ æ ‡æŒ‡é’ˆçš„å˜åŠ¨ï¼Œå°±é¡ºæ‰‹å…ˆå†™ä¸ªdemoè¹­è¹­æ´»åŠ¨äº†ã€‚</p><p>é¡ºä¾¿æå‰ç¥å¤§å®¶ğŸ‘ä¸­ç§‹èŠ‚å¿«ä¹ã€‚</p><p>å½“ç„¶è¿™ä¸ªé¼ æ ‡æŒ‡é’ˆçš„å˜åŠ¨åªåœ¨Webåº”ç”¨ä¸­ç”Ÿæ•ˆ</p><p>æ–¹ä¾¿çš„è¯å¯ä»¥<a href="https://juejin.cn/post/7006592666846625823" target="_blank" rel="noreferrer">åŸæ–‡</a>æˆ³ä¸ªèµ</p><h2 id="æ•ˆæœå¦‚ä¸‹" tabindex="-1">æ•ˆæœå¦‚ä¸‹ <a class="header-anchor" href="#æ•ˆæœå¦‚ä¸‹" aria-hidden="true">#</a></h2><p><img src="https://img.cdn.sugarat.top/mdImg/MTYzMTM0MDYwODYyOQ==631340608629" alt="å›¾ç‰‡"></p><p>emmmmm...åŠ¨å›¾æ—¶é—´è¾ƒé•¿ï¼Œéœ€è¦ç­‰ä¸€ä¼šå„¿æ•ˆæœæ‰å‡ºæ¥</p><h2 id="ç ä¸Šä½“éªŒ" tabindex="-1">ç ä¸Šä½“éªŒ <a class="header-anchor" href="#ç ä¸Šä½“éªŒ" aria-hidden="true">#</a></h2><p>åœ¨devtoolsä¸­è¿è¡Œä¸‹é¢è¿™æ®µç¥ç§˜ä»£ç å³å¯ï¼Œå®ç°æºç è§<a href="https://github.com/ATQQ/demos/blob/main/yuebingCursor/index.js" target="_blank" rel="noreferrer">æ­¤å¤„</a></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> script </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createElement</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">script</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">script</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">src </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://img.cdn.sugarat.top/demo/js-sdk/zq-rabbit/0.0.2/index.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">body</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#A6ACCD;">(script)</span></span>
<span class="line"></span></code></pre></div><p>å°†æ­¤éƒ¨åˆ†ä»£ç åŠ å…¥åˆ°ç›®æ ‡é¡µé¢ä¸­å³å¯</p><h2 id="å®ç°æ€è·¯" tabindex="-1">å®ç°æ€è·¯ <a class="header-anchor" href="#å®ç°æ€è·¯" aria-hidden="true">#</a></h2><p>ä»åŠ¨å›¾ä¸­çœ‹åˆ°å…±æœ‰ä¸¤ç§å…ƒç´ ï¼š</p><ol><li>é¼ æ ‡ç§»åŠ¨æ—¶ï¼Œé¼ æ ‡è¢«æ›¿æ¢æˆäº†ç‰å…”</li><li>ç‰å…”çš„å°¾å·´å¤„è·Ÿç€ä¸€ä¸²æœˆé¥¼ğŸ¥®</li></ol><p>ä¸‹é¢é€šè¿‡QAçš„æ–¹å¼ï¼Œå°†å¼€å‘ä¸­æ¶‰åŠåˆ°çš„é—®é¢˜å…ˆè¿‡ä¸€ä¸‹ã€‚</p><h3 id="è·å¾—é¼ æ ‡æŒ‡é’ˆçš„ä½ç½®" tabindex="-1">è·å¾—é¼ æ ‡æŒ‡é’ˆçš„ä½ç½® <a class="header-anchor" href="#è·å¾—é¼ æ ‡æŒ‡é’ˆçš„ä½ç½®" aria-hidden="true">#</a></h3><p>é€šè¿‡ç›‘å¬<code>window</code>ä¸Šçš„<code>mousemove</code>äº‹ä»¶ï¼Œå³å¯è·å–åˆ°é¼ æ ‡ç§»åŠ¨æ—¶çš„ä½ç½®å‚æ•°</p><h3 id="éšè—åŸæ¥çš„æŒ‡é’ˆ" tabindex="-1">éšè—åŸæ¥çš„æŒ‡é’ˆ <a class="header-anchor" href="#éšè—åŸæ¥çš„æŒ‡é’ˆ" aria-hidden="true">#</a></h3><p>cssæœ‰ä¸€ä¸ªå±æ€§<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/cursor" target="_blank" rel="noreferrer">cursor</a>å¯ä»¥ç”¨äºè®¾ç½®æŒ‡é’ˆçš„ç±»å‹ã€‚æˆ‘ä»¬å°†æ•è·äº‹ä»¶çš„dom(event.target)çš„cursorè®¾ç½®ä¸º<code>none</code>å³å¯</p><h3 id="å®ç°æŒ‡é’ˆçš„å˜æ›´" tabindex="-1">å®ç°æŒ‡é’ˆçš„å˜æ›´ <a class="header-anchor" href="#å®ç°æŒ‡é’ˆçš„å˜æ›´" aria-hidden="true">#</a></h3><p>è§£å†³äº†ä¸Šè¿°ä¸¤ä¸ªé—®é¢˜åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªç®€å•çš„<code>dom</code>å…ƒç´ æ¥æ›¿ä»£æˆ‘ä»¬çš„æŒ‡é’ˆï¼Œé€šè¿‡å®æ—¶è·å–åˆ°é¼ æ ‡çš„ä½ç½®ï¼Œå®æ—¶æ›´æ–°æˆ‘ä»¬çš„domå…ƒç´ ä½ç½®å³å¯</p><h3 id="å®ç°é¼ æ ‡è½¨è¿¹" tabindex="-1">å®ç°é¼ æ ‡è½¨è¿¹ <a class="header-anchor" href="#å®ç°é¼ æ ‡è½¨è¿¹" aria-hidden="true">#</a></h3><p>æ¯ä¸ªä¸€æ®µæ—¶é—´ï¼ˆå¦‚30msï¼‰è®°å½•ä¸€ä¸‹é¼ æ ‡çš„ä½ç½®ï¼Œç„¶åä¸ç»˜åˆ¶æŒ‡é’ˆä¸€æ ·çš„é€»è¾‘ï¼Œå°†è½¨è¿¹ç”¨æœˆé¥¼ğŸ¥®ç»˜åˆ¶å‡ºæ¥</p><p>è¿™é‡Œåªæè¿°äº†å¼€å‘ä¸­åˆæœŸä¼šé‡åˆ°çš„é—®é¢˜ï¼Œè¿˜æœ‰ä¸€äº›å…¶å®ƒé—®é¢˜å°†åœ¨ä¸‹é¢è¯¦ç»†å®ç°éƒ¨åˆ†è¿›è¡Œä»‹ç»</p><h2 id="ç‰å…”æŒ‡é’ˆå®ç°" tabindex="-1">ç‰å…”æŒ‡é’ˆå®ç° <a class="header-anchor" href="#ç‰å…”æŒ‡é’ˆå®ç°" aria-hidden="true">#</a></h2><p>ç›‘å¬<code>mousemove</code>äº‹ä»¶ï¼Œè·å–æŒ‡é’ˆç›¸å¯¹å±å¹•é¡¶éƒ¨ä¸å·¦ä¾§ä½ç½®ä¿¡æ¯</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mousemove</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">clientX</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">clientY</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>åˆ›å»ºä¸€ä¸ªå…ƒç´ ï¼Œè®¾ç½®å…¶èƒŒæ™¯å›¾ä¸ºç‰å…”ï¼Œå¹¶å°†å…¶æ’å…¥åˆ°ä¸»æ–‡æ¡£ä¸­ï¼Œå¹¶åˆå§‹åŒ–ä¸€äº›ä½ç½®/å½¢çŠ¶ç›¸å…³çš„csså±æ€§ã€‚</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> size </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">30px</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createCursor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cursor</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">h</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">cursor</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">id</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cursor</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">addStyles</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">cursor</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#C3E88D;">    #cursor{</span></span>
<span class="line"><span style="color:#C3E88D;">        background-image:url(https://img.cdn.sugarat.top/mdImg/MTYzMTMyNDYwNTgzMQ==631324605831);</span></span>
<span class="line"><span style="color:#C3E88D;">        width:</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">size</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">;</span></span>
<span class="line"><span style="color:#C3E88D;">        height:</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">size</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">;</span></span>
<span class="line"><span style="color:#C3E88D;">        background-size:</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">size</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">size</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">;</span></span>
<span class="line"><span style="color:#C3E88D;">        position:fixed;</span></span>
<span class="line"><span style="color:#C3E88D;">        display:none;</span></span>
<span class="line"><span style="color:#C3E88D;">        cursor:none;</span></span>
<span class="line"><span style="color:#C3E88D;">        transform: translate(-30%, -20%);</span></span>
<span class="line"><span style="color:#C3E88D;">    }</span></span>
<span class="line"><span style="color:#C3E88D;">    </span><span style="color:#89DDFF;">\`</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">body</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">cursor</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cursor</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> cursor </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createCursor</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å·¥å…·æ–¹æ³•</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">addStyles</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">styles</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">style</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createElement</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">style</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">textContent</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">styles</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">style</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">h</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">tag</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">div</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createElement</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tag</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>ç¼–å†™æ›´æ–°ç‰å…”ä½ç½®çš„æ–¹æ³•<code>refreshCursorPos</code>ï¼Œå¹¶åœ¨ä¸€æ®µæ—¶é—´åï¼Œè®©æŒ‡é’ˆæ¢å¤åŸçŠ¶</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">refreshCursorPos</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">cursor</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">display</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">block</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">cursor</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cursor</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">none</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">cursor</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">left</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">px</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">cursor</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">top</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">px</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ä¸€æ®µæ—¶é—´åéšè—</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">refreshCursorPos</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">clearTimeout</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">refreshCursorPos</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">refreshCursorPos</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">cursor</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">display</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">none</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">500</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>ä¸æ­¤å‰çš„æ–¹æ³•ç»“åˆï¼Œå¹¶å°†ç›®æ ‡å…ƒç´ çš„æŒ‡é’ˆéšè—ä¸€æ®µæ—¶é—´ï¼Œéšè—ä¸æ¢å¤è¿™é‡Œç”¨<code>WeakMap</code>æ¥åšä¸€ä¸ªè¾…åŠ©ï¼Œå­˜å‚¨èŠ‚ç‚¹ä¸å®šæ—¶å™¨çš„æ˜ å°„å…³ç³»ï¼Œåšä¸ªç®€å•çš„é˜²æŠ–</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> weakMap </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">WeakMap</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mousemove</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">clientX</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">clientY</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// éšè—æ•è·mousemoveäº‹ä»¶çš„å…ƒç´ çš„æŒ‡é’ˆï¼Œå¹¶åœ¨ä¸€æ®µæ—¶é—´åæ¢å¤</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cursor</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">none</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">weakMap</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">clearTimeout</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cursor</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">auto</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span><span style="color:#F78C6C;">500</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">weakMap</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// æ›´æ–°ç‰å…”ä½ç½®</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">refreshCursorPos</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">clientX</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">clientY</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>åˆ°è¿™é‡Œä½ ä»¥ä¸ºå°±ç»“æŸäº†ï¼Ÿå½“ç„¶æ²¡æœ‰ï¼Œæ­¤æ—¶ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä½ çš„ç‰å…”æŒ‡é’ˆæ— æ³•æ­£å¸¸å·¥ä½œï¼Œå¦‚ä¸‹æ‰€ç¤º</p><p><img src="https://img.cdn.sugarat.top/mdImg/MTYzMTM0NDc3ODMwMQ==631344778301" alt="å›¾ç‰‡"></p><p>å½“æœˆå…”å‡ºç°çš„æ—¶å€™ï¼Œæ— æ³•æ­£å¸¸ç‚¹å‡»è·³é“¾ï¼Œé€‰æ‹©æ–‡å­—å…ƒç´ </p><p>åŸå› æ˜¯ç”±äºï¼Œæ‰€æœ‰çš„äº‹ä»¶éƒ½è¢«ä½ çš„&quot;æœˆå…”&quot;æ‰€æ•è·äº†</p><p>å¦‚ä½•é¿å…äº‹ä»¶è¢«ç›®æ ‡å…ƒç´ æ•è·ï¼Ÿ é€šè¿‡cssè®¾ç½®å…ƒç´ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/pointer-events" target="_blank" rel="noreferrer">pointer-events</a>å±æ€§ä¸º<code>none</code>å³å¯ï¼Œè®¾ç½®ä¸º<code>none</code>åï¼Œç›®æ ‡å…ƒç´ æ°¸è¿œä¸ä¼šæˆä¸ºé¼ æ ‡äº‹ä»¶çš„<code>target</code></p><p>äºæ˜¯ä¸º<code>#cursor</code>å…ƒç´ çš„cssï¼Œæ·»ä¸Šä¸€è¡Œæ ·å¼<code>pointer-events: none;</code>å³å¯</p><h2 id="æœˆé¥¼è½¨è¿¹å®ç°" tabindex="-1">æœˆé¥¼è½¨è¿¹å®ç° <a class="header-anchor" href="#æœˆé¥¼è½¨è¿¹å®ç°" aria-hidden="true">#</a></h2><p>æœ‰äº†ä¸Šé¢å®ç°ç‰å…”æŒ‡é’ˆçš„ç»éªŒå®ç°æœˆé¥¼è½¨è¿¹å°±å¾ˆå®¹æ˜“äº†</p><p>æ¯ä¸ªæœˆé¥¼å…ƒç´ å‡ç”¨ä¸€ä¸ªdivç»˜åˆ¶ï¼Œå°†æœˆé¥¼çš„åˆå§‹æ ·å¼è¡¨å…ˆåŠ å…¥åˆ°é¡µé¢ä¸­</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> orbitSize </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">40px</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#82AAFF;">addStyles</span><span style="color:#A6ACCD;">(document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">body</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#C3E88D;">    .orbit{</span></span>
<span class="line"><span style="color:#C3E88D;">        background-image:url(https://img.cdn.sugarat.top/mdImg/MTYzMTMyNDMwODg2Nw==631324308867);</span></span>
<span class="line"><span style="color:#C3E88D;">        width:</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">orbitSize</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">;</span></span>
<span class="line"><span style="color:#C3E88D;">        height:</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">orbitSize</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">;</span></span>
<span class="line"><span style="color:#C3E88D;">        background-size:</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">orbitSize</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">orbitSize</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">;</span></span>
<span class="line"><span style="color:#C3E88D;">        position:fixed;</span></span>
<span class="line"><span style="color:#C3E88D;">        display:none;</span></span>
<span class="line"><span style="color:#C3E88D;">        cursor:none;</span></span>
<span class="line"><span style="color:#C3E88D;">        pointer-events: none;</span></span>
<span class="line"><span style="color:#C3E88D;">    }</span></span>
<span class="line"><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>æœˆé¥¼è½¨è¿¹ä¸Šé™çš„æœˆé¥¼è®¾ç½®ä¸º<strong>5</strong>ä¸ªï¼Œç®€å•çš„å¾ªç¯åˆ›å»ºä¸€ä¸‹</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> ybCounts </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> domList </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> []</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> (</span><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> ybCounts</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">++</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">d</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">h</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">classList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">orbit</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">domList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">d</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">body</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">d</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>åˆ›å»ºä¸€ä¸ªæ•°ç»„ç”¨äºå­˜å‚¨æŒ‡é’ˆæœ€è¿‘çš„<strong>5</strong>ä¸ªä½ç½®ï¼Œä¸€ä¸ªä¸´æ—¶å˜é‡ç”¨äºåç»­è¾…åŠ©å­˜å‚¨è½¨è¿¹ç‚¹ä¿¡æ¯</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> posList </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> []</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> now </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span></code></pre></div><p>ç¼–å†™<code>refreshOrbit</code>æ–¹æ³•ç”¨äºæ›´æ–°è½¨è¿¹ï¼š</p><ul><li>ç”±äºè½¨è¿¹æœ‰ä¸ªç¼©æ”¾çš„æ•ˆæœï¼Œè¶Šåˆ°åé¢çš„åœ†é¥¼è¶Šå°ï¼Œè¿™é‡Œé€šè¿‡<code>maxScale</code>ç¡®å®šæœ€å¤§çš„æ”¾å¤§å€æ•°</li><li>æ ¹æ®è½¨è¿¹ç‚¹ä¸ªæ•°ï¼Œç¡®å®šæ¯ä¸ª<code>æœˆé¥¼</code>æœ€ç»ˆçš„ç¼©æ”¾å€æ•°</li><li>æ ¹æ®å­˜å‚¨çš„æŒ‡é’ˆä½ç½®ä¿¡æ¯ï¼Œä¸€ä¸€å¯¹åº”çš„æ›´æ–°æœˆé¥¼ä½ç½®å³å¯</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">refreshOrbit</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// åˆ·æ–°ä½ç½®</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">maxScale</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1.5</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">minScale</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">maxScale</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">domList</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">posList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">({</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">idx</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dom</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">domList</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">idx</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">dom</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">display</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">block</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">dom</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">left</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">px</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">dom</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">top</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">px</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">dom</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">transform</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">scale(</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">(idx </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> minScale</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">) translate(10%,10%)</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">dom</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">clearTimeout</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">dom</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">dom</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">dom</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">display</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">none</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">50</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">idx</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">))</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">nowTime</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Date</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">now</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// éš”ä¸€æ®µæ—¶é—´å­˜å‚¨ä¸€ä¸ª</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">now</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">50</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">nowTime</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">now</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">nowTime</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">posList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">y</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// åªå­˜å‚¨é™å®šçš„ä¸ªæ•°</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">posList</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ybCounts</span><span style="color:#89DDFF;">+</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">posList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">shift</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>æ—¶é—´å›æ‰ä¸­è°ƒç”¨æ›´æ–°è½¨è¿¹çš„æ–¹æ³•</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mousemove</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">clientX</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">clientY</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ...çœç•¥å…¶å®ƒä»£ç </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// æ›´æ–°æœˆé¥¼è½¨è¿¹</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">refreshOrbit</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">clientX</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">clientY</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="æ”¯æŒç§»åŠ¨ç«¯" tabindex="-1">æ”¯æŒç§»åŠ¨ç«¯ <a class="header-anchor" href="#æ”¯æŒç§»åŠ¨ç«¯" aria-hidden="true">#</a></h2><p>è¿™ä¸ªç®€å•ï¼Œç›‘å¬<code>touchmove</code>äº‹ä»¶å³å¯</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">touchmove</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">clientX</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">clientY</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">changedTouches</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">refreshCursorPos</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">clientX</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">clientY</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// æ›´æ–°æœˆé¥¼è½¨è¿¹</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">refreshOrbit</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">clientX</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">clientY</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-hidden="true">#</a></h2><p>åç»­å‡†å¤‡æŠŠè¿™ä¸ªè®¾ç½®æŒ‡é’ˆæ ·å¼çš„è„šæœ¬æŠ½æˆä¸€ä¸ªé€šç”¨çš„js sdkå’Œå¤§å®¶åˆ†äº«ï¼Œè¿™æ ·æƒ³æ€ä¹ˆæ”¹æŒ‡é’ˆæ ·å¼å°±æ€ä¹ˆæ”¹</p><p>å¤§å®¶æœ‰æ›´å¥½çš„æ–¹æ¡ˆå¯ä»¥è¯„è®ºåŒºäº¤æµä¸€æ³¢</p>`,61),e=[o];function t(c,r,y,F,D,C){return a(),n("div",null,e)}const d=s(p,[["render",t]]);export{i as __pageData,d as default};
